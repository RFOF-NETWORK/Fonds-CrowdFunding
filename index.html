<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RFOF SOCIAL CLUB – Sato-Network</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        .user-avatar-circle {
            width: 40px; height: 40px; border-radius: 50%;
            background: var(--sato-gold); display: flex; align-items: center;
            justify-content: center; cursor: pointer; border: 2px solid #fff;
            font-weight: bold; color: #000; margin-left: 15px;
        }
        .explorer-list { font-family: monospace; font-size: 0.85em; background: #0a0a0a; padding: 10px; border-radius: 5px; max-height: 200px; overflow-y: auto; }
        .action-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
    </style>
</head>
<body>
    <header class="site-header">
        <div class="container nav-bar">
            <h1 onclick="showPage('home')" style="cursor:pointer">RFOF SOCIAL CLUB</h1>
            <nav id="nav-user" style="display:none; align-items: center;">
                <button onclick="showPage('home')" class="btn-nav">Dashboard</button>
                <button id="admin-link" onclick="showPage('admin')" class="btn-nav admin-btn admin-glow" style="display:none;">Master-Admin</button>
                <div class="user-avatar-circle" onclick="showPage('profile')" title="Account Settings">P</div>
                <button onclick="logout()" class="btn-nav logout-btn" style="margin-left:10px;">Logout</button>
            </nav>
            <nav id="nav-guest">
                <button onclick="showPage('login')" class="btn-nav">Login</button>
                <button onclick="showPage('register')" class="btn-nav accent-btn">Register</button>
            </nav>
        </div>
    </header>

    <main class="container">
        <div id="page-home" class="page">
            <section class="status-section">
                <h2>Network Explorer</h2>
                <div class="status-box">
                    <div class="status-row"><span>Global EUR Pool:</span> <span id="current-eur">0 €</span></div>
                    <div class="progress-bar"><div id="fill-eur" class="progress-fill"></div></div>
                </div>
                <div class="status-box btc-border">
                    <div class="status-row"><span>Master-Node Progress:</span> <span id="text-btc">0.00 / 1000 BTC</span></div>
                    <button class="btn-action btc-color" style="cursor:default;">NODE ACTIVE</button>
                </div>
                <div class="status-box">
                    <h3>Chain Explorer History (All Users)</h3>
                    <div id="global-explorer" class="explorer-list">Syncing Node...</div>
                </div>
            </section>
        </div>

        <div id="page-profile" class="page" style="display:none;">
            <h2>Sato-Account Control</h2>
            
            <div class="status-box">
                <div class="action-grid">
                    <button onclick="alert('Deposit to: ' + state.user.wallet)" class="btn-action" style="background:#28a745;">RECEIVE BTC</button>
                    <button onclick="alert('Send feature coming soon')" class="btn-action" style="background:#dc3545;">SEND BTC</button>
                </div>
                <p><strong>Wallet:</strong> <span id="user-btc-address" class="crypto-address">...</span></p>
                <p><strong>Balance:</strong> <span id="user-balance" style="color:var(--sato-gold);">0.00 BTC</span></p>
                <p><strong>Referral Link:</strong> <span id="invite-link" class="crypto-address">...</span></p>
            </div>

            <div class="status-box">
                <h3>Settings</h3>
                <input type="text" id="set-username" class="input-dark" placeholder="New Username" disabled>
                <input type="email" id="set-email" class="input-dark" placeholder="Update Email">
                <input type="password" id="set-pass" class="input-dark" placeholder="Update Password">
                <button onclick="updateAccount()" class="btn-action accent-btn">SAVE CHANGES</button>
                
                <hr style="opacity:0.1; margin:20px 0;">
                <p style="font-size:0.8em;">Security Phrases (Fixed):</p>
                <div id="phrases-display" class="phrases-box ethik-blur">**********</div>
                <button onclick="togglePhrases()" class="btn-action">VIEW PHRASES</button>
            </div>

            <div class="status-box">
                <h3>Your Personal History</h3>
                <div id="user-history" class="history-log"></div>
            </div>
        </div>

        <div id="page-login" class="page" style="display:none;"><div class="status-box auth-box"><h2>Sign In</h2><input type="text" id="login-user" class="input-dark" placeholder="Username"><input type="password" id="login-pass" class="input-dark" placeholder="Password"><button onclick="handleLogin()" class="btn-action">LOGIN</button></div></div>
        <div id="page-register" class="page" style="display:none;"><div class="status-box auth-box"><h2>Join Node</h2><input type="text" id="reg-user" class="input-dark" placeholder="Username"><input type="password" id="reg-pass" class="input-dark" placeholder="Password"><button onclick="handleRegister()" class="btn-action accent-btn">CREATE WALLET</button></div></div>
        <div id="page-admin" class="page" style="display:none;"><div class="status-box admin-glow"><h2>Admin Console</h2><input type="number" id="admin-eur-val" class="input-dark"><button onclick="adminSetEur()" class="btn-action">DISTRIBUTE REWARDS</button></div></div>
    </main>
    <script src="assets/js/script.js"></script>
</body>
</html>